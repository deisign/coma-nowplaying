<!DOCTYPE html>

<html>
<head>
<title>coma.fm — 24/7 rock’n’roll radio. Kyiv, Ukraine</title>
<meta name="description" content="Just beat! coma.fm streams surf, jazz, rockabilly, psychobilly, blues & country 24/7 — no DJs, no ads. Tune in.">
<meta property="og:image" content="https://coma.fm/cover.jpg">
<meta name="twitter:image" content="https://coma.fm/cover.jpg">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
	<link rel="icon" href="favicon.svg" type="image/svg+xml">
	<link rel="manifest" href="manifest.json">
<style>
        body {
            margin: 0;
            overflow: hidden;
            background: #000;
        }
        
        .lava-container {
            position: fixed;
            width: 100vw;
            height: 100vh;
            background: #000;
            /* Предварительный рендеринг */
            contain: layout size;
        }

        .lava-blob {
            position: absolute;
            border-radius: 50%;
            /* Уменьшаем радиус размытия */
            filter: blur(calc(1.5vw + 1.5vh));
            mix-blend-mode: screen;
            opacity: 0.6;
            /* Подсказка браузеру об оптимизации */
            will-change: transform;
            /* Принудительное аппаратное ускорение */
            transform: translateZ(0);
        }

        /* Предварительно определяем только 4 ключевых блоба */
        .blob1 {
            width: 30vw;
            height: 30vw;
            background: #8b0046;
            animation: float1 25s ease-in-out infinite;
        }

        .blob2 {
            width: 35vw;
            height: 35vw;
            background: #004b8c;
            animation: float2 28s ease-in-out infinite;
        }

        .blob3 {
            width: 25vw;
            height: 25vw;
            background: #4b0082;
            animation: float3 24s ease-in-out infinite;
        }

        .blob4 {
            width: 40vw;
            height: 40vw;
            background: #006400;
            animation: float4 30s ease-in-out infinite;
        }

        /* Отдельные анимации для каждого блоба */
        @keyframes float1 {
            0% { transform: translate(10vw, 10vh) scale(1) translateZ(0); }
            25% { transform: translate(60vw, 30vh) scale(1.1) translateZ(0); }
            50% { transform: translate(50vw, 60vh) scale(0.9) translateZ(0); }
            75% { transform: translate(20vw, 40vh) scale(1.05) translateZ(0); }
            100% { transform: translate(10vw, 10vh) scale(1) translateZ(0); }
        }

        @keyframes float2 {
            0% { transform: translate(60vw, 20vh) scale(1) translateZ(0); }
            30% { transform: translate(20vw, 40vh) scale(1.1) translateZ(0); }
            60% { transform: translate(40vw, 60vh) scale(0.9) translateZ(0); }
            100% { transform: translate(60vw, 20vh) scale(1) translateZ(0); }
        }

        @keyframes float3 {
            0% { transform: translate(30vw, 70vh) scale(1) translateZ(0); }
            40% { transform: translate(70vw, 30vh) scale(1.05) translateZ(0); }
            80% { transform: translate(20vw, 50vh) scale(0.95) translateZ(0); }
            100% { transform: translate(30vw, 70vh) scale(1) translateZ(0); }
        }

        @keyframes float4 {
            0% { transform: translate(70vw, 60vh) scale(1) translateZ(0); }
            33% { transform: translate(20vw, 20vh) scale(1.1) translateZ(0); }
            66% { transform: translate(50vw, 40vh) scale(0.9) translateZ(0); }
            100% { transform: translate(70vw, 60vh) scale(1) translateZ(0); }
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: radial-gradient(circle at center, transparent 0%, rgba(0,0,0,0.4) 100%);
            pointer-events: none;
        }
    </style>
<script async defer
        data-website-id="e8633e24-a403-4615-89f5-a90f9f5ec314"
        src="https://analytics.coma.fm/script.js"></script>
</head>
<body>
<div class="lava-container">
<div class="lava-blob blob1"></div>
<div class="lava-blob blob2"></div>
<div class="lava-blob blob3"></div>
<div class="lava-blob blob4"></div>
<div class="overlay"></div>
</div>
<script>
        const container = document.querySelector('.lava-container');
        const colors = [
            '#8b0046', // Глубокий малиновый
            '#004b8c', // Глубокий синий
            '#4b0082', // Индиго
            '#006400', // Темно-зеленый
            '#800080', // Пурпурный
            '#00458b', // Темно-голубой
            '#8b4500', // Темно-оранжевый
            '#2f4f4f'  // Темно-бирюзовый
        ];
        
        // Создаем максимум 5 дополнительных блобов, независимо от размера экрана
        const maxExtraBlobs = 5;
        const extraBlobsCount = Math.min(
            Math.floor(Math.max(window.innerWidth, window.innerHeight) / 600) + 1,
            maxExtraBlobs
        );
        
        // Создаем дополнительные блобы только при начальной загрузке
        for (let i = 0; i < extraBlobsCount; i++) {
            const blob = document.createElement('div');
            blob.className = 'lava-blob';
            
            // Делаем дополнительные блобы меньше основных
            const size = Math.random() * 15 + 15 + 'vw';
            blob.style.width = size;
            blob.style.height = size;
            
            blob.style.background = colors[Math.floor(Math.random() * colors.length)];
            
            // Создаем для них простые анимации через CSS
            blob.style.left = Math.random() * 70 + 10 + 'vw';
            blob.style.top = Math.random() * 70 + 10 + 'vh';
            
            // Добавляем простую анимацию пульсации
            const duration = (Math.random() * 5 + 20) + 's';
            const delay = (Math.random() * -15) + 's';
            blob.style.animation = `float${i % 4 + 1} ${duration} ease-in-out infinite`;
            blob.style.animationDelay = delay;
            
            container.appendChild(blob);
        }

        // Никаких обработчиков движения мыши - это просто статический экран
    </script>
<div style="position: fixed; bottom: 150px; left: 50%; transform: translateX(-50%); z-index: 1000;"><!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>coma.fm Player</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
<style>
        :root {
            --primary-color: rgba(51, 51, 51, 0.8); /* Charcoal with opacity */
            --text-color: #f5f5dc; /* Cream */
            --accent-color: #d94f00; /* Burnt Orange */
            --secondary-accent: #e1b80d; /* Mustard Yellow */
            --highlight-color: #4caba7; /* Deep Aqua */
            --background-tint: rgba(168, 159, 145, 0.1); /* Warm Gray with opacity */
            --track-size: 200px;
        }
        
        /* General styles */
        body {
            font-family: 'Space Grotesk', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(45deg, #330867, #30cfd0);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        /* Player container */
        .player-container {
            background-color: var(--primary-color);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            width: 100%;
            max-width: 900px;
            margin: 20px;
            transition: all 0.3s ease;
            padding: 0;
        }
        
        /* Main player section */
        .player-main {
            display: flex;
            padding: 20px;
            align-items: center;
            position: relative;
            box-sizing: border-box;
            padding-right: 20px; /* Ensure consistent right padding */
        }
        
        /* Logo positioning */
        .player-logo {
            position: absolute;
            top: 20px;
            right: 20px; /* Same right margin as the player container's padding */
            max-width: 80px; /* Reduced from 100px to ensure it fits within boundaries */
            height: auto;
            z-index: 1;
        }
        
        /* Artwork container */
        .track-artwork {
            width: var(--track-size);
            height: var(--track-size);
            background-size: cover;
            background-position: center;
            border-radius: 10px;
            flex-shrink: 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            margin: 0;
        }
        
        /* Track info container */
        .track-info {
            flex-grow: 1;
            padding: 0 20px;
            overflow: hidden;
        }
        
        .track-program {
            font-size: 14px;
            color: var(--highlight-color);
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .track-artist {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: var(--text-color);
        }
        
        .track-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: var(--text-color);
        }
        
        /* Player controls */
        .player-controls {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }
        
        .play-button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--accent-color);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            border: none;
            outline: none;
            transition: all 0.2s ease;
            margin-right: 20px;
            flex-shrink: 0;
        }
        
        .play-button:hover {
            transform: scale(1.05);
            background-color: var(--secondary-accent);
        }
        
        .play-button svg, .play-button i {
            fill: var(--text-color);
            color: var(--text-color);
            font-size: 20px;
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            flex-grow: 1;
            max-width: 180px;
            margin-right: 20px;
        }
        
        .volume-control input {
            width: 100%;
            margin: 0 10px;
            cursor: pointer;
        }
        
        .volume-control i {
            color: var(--text-color);
            font-size: 16px;
        }
        
        /* Action buttons */
        .action-buttons {
            display: flex;
            margin-left: auto;
        }
        
        .action-button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            border: none;
            outline: none;
            transition: all 0.2s ease;
            margin-left: 10px;
            color: var(--text-color);
        }
        
        .action-button, .history-spotify {
            text-decoration: none !important;
        }
        
        .action-button:hover {
            background-color: var(--accent-color);
        }
        
        .action-button i {
            font-size: 16px;
        }
        
        /* Status indicator */
        .status-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #f44336;
        }
        
        .status-online {
            background-color: #4CAF50;
        }
        
        /* Popups */
        .history-popup, .track-info-popup, .schedule-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: var(--primary-color);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            z-index: 1000;
            max-width: 90%;
            width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
        }
        
        .popup-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-color);
        }
        
        .close-popup {
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 20px;
            cursor: pointer;
        }
        
        .history-item {
            display: flex;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            align-items: center;
            position: relative;
        }
        
        .history-artwork {
            width: 60px;
            height: 60px;
            background-size: cover;
            background-position: center;
            border-radius: 5px;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .history-track-info {
            flex-grow: 1;
            overflow: hidden;
            padding-right: 35px;
        }
        
        .history-track-title {
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin-bottom: 3px;
            color: var(--text-color);
        }
        
        .history-track-time {
            font-size: 12px;
            color: rgba(245, 245, 220, 0.6);
        }
        
        .history-spotify {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            color: #1DB954;
            transition: all 0.2s ease;
        }
        
        .history-spotify:hover {
            background-color: var(--accent-color);
        }
        
        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(3px);
            z-index: 999;
        }
        
        /* Track details */
        .track-details {
            margin-top: 20px;
        }
        
        .detail-row {
            margin-bottom: 15px;
        }
        
        .detail-label {
            font-size: 14px;
            color: rgba(245, 245, 220, 0.6);
            margin-bottom: 3px;
        }
        
        .detail-value {
            font-size: 16px;
            color: var(--text-color);
        }
        
        /* Schedule styling */
        .schedule-tabs {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .schedule-tab {
            padding: 8px 15px;
            cursor: pointer;
            background-color: transparent;
            border: none;
            color: var(--text-color);
            font-family: 'Space Grotesk', sans-serif;
            font-size: 14px;
            transition: all 0.2s ease;
            border-bottom: 2px solid transparent;
            margin-bottom: -1px;
        }
        
        .schedule-tab.active {
            border-bottom: 2px solid var(--accent-color);
            font-weight: 600;
        }
        
        .schedule-tab:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        .schedule-content {
            display: none;
        }
        
        .schedule-content.active {
            display: block;
        }
        
        .schedule-show {
            padding: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
        }
        
        .schedule-time {
            width: 90px;
            flex-shrink: 0;
            color: var(--highlight-color);
            font-weight: 500;
        }
        
        .schedule-show-title {
            flex-grow: 1;
        }
        
        .current-show {
            background-color: rgba(212, 79, 0, 0.2);
            border-radius: 5px;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .player-main {
                flex-direction: column;
            }
            
            .track-artwork {
                margin-bottom: 20px;
                width: 180px;
                height: 180px;
            }
            
            .track-info {
                padding: 0;
                text-align: center;
                width: 100%;
                margin-bottom: 20px;
            }
            
            .player-controls {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .volume-control {
                order: 3;
                margin-top: 15px;
                max-width: 100%;
                width: 100%;
            }
            
            .action-buttons {
                margin-left: 0;
            }
            
            .player-logo {
                position: relative;
                top: auto;
                right: auto;
                margin: 0 auto 15px;
                display: block;
            }
            
            .schedule-tabs {
                justify-content: center;
            }
            
            .schedule-tab {
                padding: 6px 10px;
                font-size: 12px;
            }
        }
        
        @media (max-width: 500px) {
            :root {
                --track-size: 150px;
            }
            
            .track-artist {
                font-size: 16px;
            }
            
            .track-title {
                font-size: 20px;
                margin-bottom: 15px;
            }
            
            .schedule-time {
                width: 60px;
            }
        }
    </style>
<style>
.history-popup#playlist-popup {
    display: none;
}
.history-popup#playlist-popup.visible {
    display: block;
}
</style>
<style>
#playlist-popup .popup-list {
    padding: 10px 20px;
}
#playlist-popup .popup-list div {
    margin-bottom: 15px;
}
#playlist-popup .popup-list a {
    color: #7ec8e3;
    font-weight: 600;
    text-decoration: none;
}
#playlist-popup .popup-list a:hover {
    text-decoration: underline;
}
#playlist-popup .popup-list span {
    color: #ffffff;
    font-size: 14px;
}
</style>
<style>
.history-spotify-icon {
  width: 16px;
  height: 16px;
  vertical-align: middle;
  margin-right: 6px;
  opacity: 0.8;
}
</style>
<style>
#support-popup.history-popup {
  display: none;
}
#support-popup.history-popup.visible {
  display: block;
}
#support-popup .popup-list {
  padding: 15px 20px;
}
#support-popup .popup-list a {
  color: #7ec8e3;
  text-decoration: none;
}
#support-popup .popup-list a:hover {
  text-decoration: underline;
}
.donate-button {
  background-color: #ffffff10;
  border: 1px solid #7ec8e3;
  color: #7ec8e3;
  padding: 6px 14px;
  margin-top: 8px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
}
.donate-button:hover {
  background-color: #7ec8e3;
  color: #000;
}
</style>
</head>
<body>
<div class="player-container">
<div class="player-main">
<div class="track-artwork">
<div class="status-indicator" id="status-dot"></div>
</div>
<img alt="coma.fm" class="player-logo" src="https://i.imgur.com/japL001.png"/>
<div class="track-info">
<div class="track-program" id="track-program"></div>
<div class="track-artist" id="track-artist">Loading...</div>
<div class="track-title" id="track-title">Loading...</div>
<div class="player-controls">
<button class="play-button" id="play-button">
<i class="fas fa-play" id="play-icon"></i>
<i class="fas fa-pause" id="pause-icon" style="display: none;"></i>
</button>
<div class="volume-control">
<i class="fas fa-volume-up" id="volume-icon"></i>
<input id="volume-slider" max="1" min="0" step="0.01" type="range" value="0.8"/>
</div>
<div class="action-buttons">
<button class="action-button" id="info-button" title="Track Info">
<i class="fas fa-info"></i>
</button>
<button class="action-button" id="history-button" title="Track History">
<i class="fas fa-history"></i>
</button>
<button class="action-button" id="playlist-button" title="Playlists"><i class="fas fa-folder-open"></i></button>
<button class="action-button" id="schedule-button" title="Schedule">
<i class="fas fa-calendar-alt"></i>
</button>
<button class="action-button" id="spotify-button" title="Find on Spotify">
<i class="fab fa-spotify"></i>
</button>
<button class="action-button" id="support-button" title="Support / Donate"><i class="fas fa-heart"></i></button>
</div>
</div>
</div>
</div>


</div>
<div style="display:flex;justify-content:center;margin-top:24px;">
<div id="ambience-mixer" style="display:flex; align-items:center; gap:8px; background:rgba(0,0,0,0.75); padding:6px 12px; border-radius:12px; color:#fff; font-family:inherit; font-size:14px; width:fit-content; z-index:1000">
  <label for="ambienceSelect" style="margin-right:6px;">Ambience:</label>
  <select id="ambienceSelect" style="padding:2px 6px;border-radius:6px;">
    <option value="">no ambience</option>
    <option value="cafe">cafe</option>
    <option value="city">city</option>
    <option value="film">film</option>
    <option value="fireplace">fireplace</option>
    <option value="forest">forest</option>
    <option value="rain">rain</option>
    <option value="station">station</option>
    <option value="train">train</option>
    <option value="vinyl">vinyl</option>
    <option value="waves">waves</option>
</select>
  <button id="ambiencePlayPause" style="background:none;border:none;color:#fff;font-size:16px;cursor:pointer;">⏯</button>
  <input type="range" id="ambienceVolume" min="0" max="1" step="0.01" value="0.8" style="width:120px;">
</div>
</div>

<div class="popup-overlay" id="popup-overlay"></div>
<div class="history-popup" id="history-popup">
<div class="popup-header">
<div class="popup-title">Track History</div>
<button class="close-popup" id="close-history">×</button>
</div>
<div id="history-container">
<!-- Track history will be added via JavaScript -->
</div>
</div>
<div class="track-info-popup" id="track-info-popup">
<div class="popup-header">
<div class="popup-title">Track Info</div>
<button class="close-popup" id="close-info">×</button>
</div>
<div class="track-details" id="track-details">
<!-- Track info will be added via JavaScript -->
</div>
</div>
<div class="schedule-popup" id="schedule-popup">
<div class="popup-header">
<div class="popup-title">Schedule</div>
<button class="close-popup" id="close-schedule">×</button>
</div>
<div class="schedule-tabs" id="schedule-tabs">
<!-- Tabs for days of week will be added via JavaScript -->
</div>
<div class="schedule-content-container" id="schedule-content-container">
<!-- Schedule content will be added via JavaScript -->
</div>
</div>
<audio id="audio-player" style="display: none;"></audio>
<script>
        // Station configuration
        const STATION_ID = 's4360dbc20';
        const API_BASE = 'https://public.radio.co';
        const STREAM_URL = `https://stream.radio.co/${STATION_ID}/listen`;
        
        // Schedule data (from CSV file)
        let scheduleData = {
          "headers": [
            "Show Times",
            "Sunday",
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday"
          ],
          "rows": [
            [
              "12:00 AM - 1:00 AM",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop"
            ],
            [
              "1:00 AM - 2:00 AM",
              "Space Age Pop",
              "Surfin' Safari",
              "Blue Note",
              "Daddy O",
              "Psycho Barbara",
              "Armchair Cowboy",
              "Surfing 20s"
            ],
            [
              "2:00 AM - 3:00 AM",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes"
            ],
            [
              "3:00 AM - 4:00 AM",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box"
            ],
            [
              "4:00 AM - 5:00 AM",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop"
            ],
            [
              "5:00 AM - 6:00 AM",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes"
            ],
            [
              "6:00 AM - 7:00 AM",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box"
            ],
            [
              "7:00 AM - 8:00 AM",
              "Sunday Morning",
              "Recover",
              "Recover",
              "Recover",
              "Recover",
              "Recover",
              "Shabbat Shalom"
            ],
            [
              "8:00 AM - 9:00 AM",
              "Sunday Morning",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Shabbat Shalom"
            ],
            [
              "9:00 AM - 10:00 AM",
              "Sunday Morning",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Shabbat Shalom"
            ],
            [
              "10:00 AM - 11:00 AM",
              "Sunday Morning",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Shabbat Shalom"
            ],
            [
              "11:00 AM - 12:00 PM",
              "Sunday Morning",
              "Svezhaque",
              "Svezhaque",
              "Svezhaque",
              "Svezhaque",
              "Svezhaque",
              "Shabbat Shalom"
            ],
            [
              "12:00 PM - 1:00 PM",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop"
            ],
            [
              "1:00 PM - 2:00 PM",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes"
            ],
            [
              "2:00 PM - 3:00 PM",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box"
            ],
            [
              "3:00 PM - 4:00 PM",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop"
            ],
            [
              "4:00 PM - 5:00 PM",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes",
              "Heroes"
            ],
            [
              "5:00 PM - 6:00 PM",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Juke Box",
              "Shabbat Shalom",
              "Juke Box"
            ],
            [
              "6:00 PM - 7:00 PM",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Shabbat Shalom",
              "Music Non Stop"
            ],
            [
              "7:00 PM - 8:00 PM",
              "Heroes",
              "Recover",
              "Recover",
              "Recover",
              "Recover",
              "Shabbat Shalom",
              "Heroes"
            ],
			  [
              "8:00 PM - 8:30 PM",
              "Juke Box",
              "Recover",
              "Recover",
              "Recover",
              "Recover",
              "Shabbat Shalom",
              "Juke Box"
            ],
			  
            [
              "8:30 PM - 9:00 PM",
              "Juke Box",
              "No Quota",
              "No Quota",
              "No Quota",
              "No Quota",
              "Shabbat Shalom",
              "Juke Box"
            ],
            [
              "9:00 PM - 10:00 PM",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Music Non Stop",
              "Hot Boogie Club",
              "Shabbat Shalom",
              "Music Non Stop"
            ],
            [
              "10:00 PM - 11:00 PM",
              "American Nocturne",
              "American Nocturne",
              "American Nocturne",
              "American Nocturne",
              "American Nocturne",
              "Shabbat Shalom",
              "American Nocturne"
            ],
            [
              "11:00 PM - 12:00 AM",
              "In The Pines",
              "In The Pines",
              "In The Pines",
              "In The Pines",
              "In The Pines",
              "In The Pines",
              "In The Pines"
            ]
          ]
        };
        
        // Player elements
        let audioPlayer;
        const playButton = document.getElementById('play-button');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const volumeSlider = document.getElementById('volume-slider');
        const volumeIcon = document.getElementById('volume-icon');
        const statusDot = document.getElementById('status-dot');
        const trackProgram = document.getElementById('track-program');
        const trackArtist = document.getElementById('track-artist');
        const trackTitle = document.getElementById('track-title');
        const trackArtwork = document.querySelector('.track-artwork');
        const historyContainer = document.getElementById('history-container');
        
        // Popup elements
        const historyButton = document.getElementById('history-button');
        const infoButton = document.getElementById('info-button');
        const scheduleButton = document.getElementById('schedule-button');
        const spotifyButton = document.getElementById('spotify-button');
        const historyPopup = document.getElementById('history-popup');
        const trackInfoPopup = document.getElementById('track-info-popup');
        const schedulePopup = document.getElementById('schedule-popup');
        const popupOverlay = document.getElementById('popup-overlay');
        
        // Close buttons
        const closeHistory = document.getElementById('close-history');
        const closeInfo = document.getElementById('close-info');
        const closeSchedule = document.getElementById('close-schedule');
        
        // Schedule elements
        const scheduleTabs = document.getElementById('schedule-tabs');
        const scheduleContentContainer = document.getElementById('schedule-content-container');
        
        // State variables
        let currentTrack = null;
        let refreshInterval;
        let trackStartTime;
        let stationStatus;
        let isPlaying = false;
        
        // Days of the week for schedule
        const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
        
        // Function to parse CSV schedule data
        function parseScheduleCSV(csvText) {
            const lines = csvText.split('\n');
            if (lines.length < 2) {
                return null;
            }
            
            // Parse headers (first line)
            const headers = lines[0].split(',').map(h => h.trim());
            
            // Parse data (remaining lines)
            const rows = [];
            for (let i = 1; i < lines.length; i++) {
                if (!lines[i].trim()) continue; // Skip empty lines
                
                const rowData = lines[i].split(',').map(cell => cell.trim());
                
                // Check if the row has enough data
                if (rowData.length >= headers.length) {
                    rows.push(rowData);
                }
            }
            
            return {
                headers,
                rows
            };
        }
        
        // Function to parse time format like "12:00 AM - 1:00 AM" to get hour number
        function parseTimeToHour(timeStr) {
            const startTimePart = timeStr.split(' - ')[0].trim();
            const parts = startTimePart.split(' ');
            
            if (parts.length !== 2) {
                // Fallback for unexpected format
                return new Date().getHours();
            }
            
            const timeParts = parts[0].split(':');
            let hour = parseInt(timeParts[0], 10);
            const ampm = parts[1];
            
            // Convert to 24-hour format
            if (ampm === 'AM' && hour === 12) {
                hour = 0;
            } else if (ampm === 'PM' && hour < 12) {
                hour += 12;
            }
            
            return hour;
        }
        
        // Function to find current show based on time
        function getCurrentShow(scheduleData, day, hour) {
            if (!scheduleData || !scheduleData.headers) return null;
            
            // Find the column index for the current day
            const dayIndex = scheduleData.headers.indexOf(day);
            if (dayIndex === -1) return null;
            
            // Find the row for the current hour
            for (const row of scheduleData.rows) {
                const timeStr = row[0];
                const rowHour = parseTimeToHour(timeStr);
                if (rowHour === hour) {
                    return {
                        time: timeStr,
                        show: row[dayIndex]
                    };
                }
            }
            
            return null;
        }
        
        // Initialize player
        async function initPlayer() {
            console.log('Initializing player...');
            
            try {
                // Try to load CSV schedule data from file
                const csvFile = await window.fs.readFile('Coma FM Schedule.csv', { encoding: 'utf8' });
                console.log('CSV schedule loaded, trying to parse...');
                
                // Parse loaded schedule data
                const parsedData = parseScheduleCSV(csvFile);
                if (parsedData && parsedData.headers && parsedData.rows.length > 0) {
                    scheduleData = parsedData;
                    console.log('Schedule successfully loaded from CSV');
                }
            } catch (error) {
                console.warn('Using fallback schedule data:', error);
                // We'll use the hard-coded fallback schedule
            }
            
            // Initialize audio player
            audioPlayer = new Audio();
            audioPlayer.preload = 'none';
            
            // Restore volume from localStorage or use default
            const savedVolume = localStorage.getItem('coma_player_volume');
            if (savedVolume !== null) {
                volumeSlider.value = savedVolume;
            }
            audioPlayer.volume = volumeSlider.value;
            
            // Add event listeners
            playButton.addEventListener('click', togglePlay);
            volumeSlider.addEventListener('input', updateVolume);
            historyButton.addEventListener('click', showHistoryPopup);
            infoButton.addEventListener('click', showTrackInfoPopup);
            scheduleButton.addEventListener('click', showSchedulePopup);
            spotifyButton.addEventListener('click', openSpotify);
            closeHistory.addEventListener('click', closePopups);
            closeInfo.addEventListener('click', closePopups);
            closeSchedule.addEventListener('click', closePopups);
            popupOverlay.addEventListener('click', closePopups);
            
            // Audio player event handlers
            audioPlayer.addEventListener('play', function() {
                console.log('Audio playback started');
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'block';
                isPlaying = true;
            });
            
            audioPlayer.addEventListener('pause', function() {
                console.log('Audio playback paused');
                playIcon.style.display = 'block';
                pauseIcon.style.display = 'none';
                isPlaying = false;
            });
            
            audioPlayer.addEventListener('error', function(e) {
                console.error('Audio error:', e);
                if (audioPlayer.error) {
                    console.error('Error code:', audioPlayer.error.code);
                    console.error('Error message:', audioPlayer.error.message);
                }
                playIcon.style.display = 'block';
                pauseIcon.style.display = 'none';
                isPlaying = false;
                showError('Failed to play stream. Please try again later.');
            });
            
            // Start fetching data
            refreshData();
            
            // Update data every 15 seconds
            refreshInterval = setInterval(refreshData, 15000);
            
            // Update program info based on schedule
            updateProgramInfo();
        }
        
        // Refresh data (status, current track, history)
        async function refreshData() {
            try {
                await fetchStationStatus();
                await fetchTrackHistory();
                updateProgramInfo();
            } catch (error) {
                console.error('Error refreshing data:', error);
                showError('An error occurred while fetching data. Please try again later.');
            }
        }
        
        // Fetch station status
        async function fetchStationStatus() {
            try {
                console.log(`Fetching station status: ${API_BASE}/stations/${STATION_ID}/status`);
                const response = await fetch(`${API_BASE}/stations/${STATION_ID}/status`);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                
                const data = await response.json();
                console.log('Station status data:', data);
                stationStatus = data;
                
                // Update status indicator
                updateStatusIndicator(data.status);
                
                // Update current track information
                updateCurrentTrack(data.current_track);
                
                return data;
            } catch (error) {
                console.error('Error fetching station status:', error);
                // Set "offline" status instead of throwing error
                updateStatusIndicator('offline');
                showError(`Failed to get station status: ${error.message}`);
            }
        }
        
        // Fetch track history
        async function fetchTrackHistory() {
            try {
                console.log(`Fetching track history: ${API_BASE}/stations/${STATION_ID}/history`);
                const response = await fetch(`${API_BASE}/stations/${STATION_ID}/history`);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                
                const data = await response.json();
                console.log('Track history data:', data);
                
                // Update history section
                updateTrackHistory(data.tracks);
                
                return data;
            } catch (error) {
                console.error('Error fetching track history:', error);
                // Set empty history instead of throwing error
                historyContainer.innerHTML = '<div class="error-message">Track history unavailable</div>';
            }
        }
        
        // Update status indicator
        function updateStatusIndicator(status) {
            statusDot.className = 'status-indicator';
            if (status === 'online') {
                statusDot.classList.add('status-online');
            } else {
                statusDot.classList.add('status-offline');
            }
        }
        
        // Parse track title to get artist and title
        function parseTrackTitle(trackTitle) {
            // Look for separator in title
            const separators = [' - ', ' – ', ' — ', ' | ', ': '];
            let artist = 'Unknown artist';
            let title = trackTitle;
            
            for (const separator of separators) {
                if (trackTitle.includes(separator)) {
                    const parts = trackTitle.split(separator);
                    artist = parts[0].trim();
                    title = parts.slice(1).join(separator).trim();
                    break;
                }
            }
            
            return { artist, title };
        }
        
        // Update current track information
        function updateCurrentTrack(track) {
            if (!track) {
                trackArtist.textContent = 'Information unavailable';
                trackTitle.textContent = '';
                trackArtwork.style.backgroundImage = `url('https://via.placeholder.com/240/202020/FFFFFF?text=coma.fm')`;
                return;
            }
            
            // Check if track has changed
            if (currentTrack && currentTrack.start_time === track.start_time) {
                return; // Track hasn't changed, don't update UI
            }
            
            // Save new current track
            currentTrack = track;
            trackStartTime = new Date(track.start_time);
            
            // Parse track title
            const trackParts = parseTrackTitle(track.title || 'Unknown track');
            
            // Update info
            trackArtist.textContent = trackParts.artist;
            trackTitle.textContent = trackParts.title;
            trackArtwork.style.backgroundImage = `url('${track.artwork_url_large || track.artwork_url || 'https://via.placeholder.com/240/202020/FFFFFF?text=coma.fm'}')`;
            
            // Update program info
            updateProgramInfo();
        }
        
        // Update track history section
        function updateTrackHistory(tracks) {
            if (!tracks || tracks.length === 0) {
                historyContainer.innerHTML = '<div class="error-message">Track history unavailable</div>';
                return;
            }
            
            historyContainer.innerHTML = '';
            
            // Show the last 10 tracks
            const tracksToShow = tracks.slice(0, 10);
            
            tracksToShow.forEach(track => {
                const trackTime = new Date(track.start_time);
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                // Parse track title
                const trackParts = parseTrackTitle(track.title || 'Unknown track');
                
                historyItem.innerHTML = `
                    <div class="history-artwork" style="background-image: url('${track.artwork_url || 'https://via.placeholder.com/60/202020/FFFFFF?text=coma.fm'}')"></div>
                    <div class="history-track-info">
                        <div class="history-track-title">${trackParts.artist} - ${trackParts.title}</div>
                        <div class="history-track-time">${formatTime(trackTime)}</div>
                    </div>
                    <a href="${getSpotifySearchUrl(trackParts)}" target="_blank" class="history-spotify">
                        <i class="fab fa-spotify"></i>
                    </a>
                `;
                
                historyContainer.appendChild(historyItem);
            });
        }
        
        // Update program info based on schedule
        function updateProgramInfo() {
            if (!scheduleData) return;
            
            const now = new Date();
            const currentHour = now.getHours();
            const currentDayIndex = now.getDay();
            const currentDay = daysOfWeek[currentDayIndex];
            
            const currentShow = getCurrentShow(scheduleData, currentDay, currentHour);
            
            if (currentShow) {
                trackProgram.textContent = currentShow.show;
            } else {
                trackProgram.textContent = '';
            }
        }
        
        // Toggle playback
        function togglePlay() {
            console.log('Toggle play, current state:', isPlaying);
            
            if (isPlaying) {
                audioPlayer.pause();
                if (audioPlayer.readyState > 0) {
                    audioPlayer.currentTime = 0;
                }
                audioPlayer.src = '';
                playIcon.style.display = 'block';
                pauseIcon.style.display = 'none';
                isPlaying = false;
            } else {
                // Open stream in current window
                try {
                    // Create a new audio element
                    audioPlayer = new Audio();
                    audioPlayer.volume = volumeSlider.value;
                    
                    // Add event handlers
                    audioPlayer.onplay = function() {
                        console.log('Playback started');
                        playIcon.style.display = 'none';
                        pauseIcon.style.display = 'block';
                        isPlaying = true;
                    };
                    
                    audioPlayer.onpause = function() {
                        console.log('Playback paused');
                        playIcon.style.display = 'block';
                        pauseIcon.style.display = 'none';
                        isPlaying = false;
                    };
                    
                    audioPlayer.onerror = function(e) {
                        console.error('Playback error:', e);
                        playIcon.style.display = 'block';
                        pauseIcon.style.display = 'none';
                        isPlaying = false;
                    };
                    
                    // Set source
                    audioPlayer.src = STREAM_URL;
                    
                    // Try to play
                    audioPlayer.play().catch(error => {
                        console.log('Auto-play was prevented by the browser');
                        alert('Please click the play button again to start playback.');
                    });
                } catch (error) {
                    console.error('Exception during playback:', error);
                }
            }
        }
        
        // Update volume
        function updateVolume() {
            if (audioPlayer) {
                audioPlayer.volume = volumeSlider.value;
            }
            // Save volume to localStorage for future sessions
            localStorage.setItem('coma_player_volume', volumeSlider.value);
            
            // Update volume icon
            updateVolumeIcon();
        }
        
        // Update volume icon
        function updateVolumeIcon() {
            const volume = parseFloat(volumeSlider.value);
            volumeIcon.className = 'fas';
            
            if (volume === 0) {
                volumeIcon.classList.add('fa-volume-mute');
            } else if (volume < 0.5) {
                volumeIcon.classList.add('fa-volume-down');
            } else {
                volumeIcon.classList.add('fa-volume-up');
            }
        }
        
        // Show track history popup
        function showHistoryPopup() {
            closePopups();
            historyPopup.style.display = 'block';
            popupOverlay.style.display = 'block';
        }
        
        // Show track info popup
        function showTrackInfoPopup() {
            closePopups();
            
            // Fill current track information
            const trackDetails = document.getElementById('track-details');
            
            if (!currentTrack) {
                trackDetails.innerHTML = '<div class="error-message">Track information unavailable</div>';
            } else {
                const trackParts = parseTrackTitle(currentTrack.title || 'Unknown track');
                
                trackDetails.innerHTML = `
                    <div class="detail-row">
                        <div class="detail-label">Artist</div>
                        <div class="detail-value">${trackParts.artist}</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Title</div>
                        <div class="detail-value">${trackParts.title}</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Program</div>
                        <div class="detail-value">${trackProgram.textContent || 'Unknown'}</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Start Time</div>
                        <div class="detail-value">${trackStartTime ? formatDateTime(trackStartTime) : 'Unknown'}</div>
                    </div>
                    <div class="detail-row">
                        <a href="${getSpotifySearchUrl(trackParts)}" target="_blank" class="playlist-link">
                            <i class="fab fa-spotify"></i> Find on Spotify
                        </a>
                    </div>
                `;
            }
            
            trackInfoPopup.style.display = 'block';
            popupOverlay.style.display = 'block';
        }
        
        // Show schedule popup
        function showSchedulePopup() {
            closePopups();
            
            // Create day tabs if they don't exist yet
            if (scheduleTabs.children.length === 0) {
                createScheduleTabs();
            }
            
            schedulePopup.style.display = 'block';
            popupOverlay.style.display = 'block';
        }
        
        // Create schedule tabs
        function createScheduleTabs() {
            // Clear existing tabs and content
            scheduleTabs.innerHTML = '';
            scheduleContentContainer.innerHTML = '';
            
            // If there's no schedule data, show error message
            if (!scheduleData) {
                scheduleContentContainer.innerHTML = '<div class="error-message">Schedule unavailable</div>';
                return;
            }
            
            // Get current day of week (0 - Sunday, 6 - Saturday)
            const currentDayIndex = new Date().getDay();
            
            // Create tabs for each day of the week
            daysOfWeek.forEach((day, index) => {
                const tab = document.createElement('button');
                tab.className = 'schedule-tab';
                tab.textContent = day;
                tab.setAttribute('data-day', day);
                
                // Make current day tab active
                if (index === currentDayIndex) {
                    tab.classList.add('active');
                }
                
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs
                    const tabs = scheduleTabs.querySelectorAll('.schedule-tab');
                    tabs.forEach(t => t.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Switch schedule content
                    showScheduleForDay(this.getAttribute('data-day'));
                });
                
                scheduleTabs.appendChild(tab);
                
                // Create container for day content
                const content = document.createElement('div');
                content.className = 'schedule-content';
                content.id = `schedule-content-${day}`;
                
                // Make current day content active
                if (index === currentDayIndex) {
                    content.classList.add('active');
                }
                
                scheduleContentContainer.appendChild(content);
            });
            
            // Display schedule for current day
            showScheduleForDay(daysOfWeek[currentDayIndex]);
        }
        
        // Show schedule for specific day
        function showScheduleForDay(day) {
            // Hide all contents
            const contents = scheduleContentContainer.querySelectorAll('.schedule-content');
            contents.forEach(c => c.classList.remove('active'));
            
            // Show content for selected day
            const dayContent = document.getElementById(`schedule-content-${day}`);
            dayContent.classList.add('active');
            
            // Fill schedule if it's not already filled
            if (dayContent.children.length === 0) {
                fillScheduleForDay(day, dayContent);
            }
        }
        
        // Fill schedule for specific day
        function fillScheduleForDay(day, container) {
            // If no schedule data, show error message
            if (!scheduleData) {
                container.innerHTML = '<div class="error-message">Schedule unavailable</div>';
                return;
            }
            
            // Find column index for selected day
            const dayIndex = scheduleData.headers.indexOf(day);
            if (dayIndex === -1) {
                container.innerHTML = '<div class="error-message">Schedule for this day is unavailable</div>';
                return;
            }
            
            // Get current hour to highlight current show
            const currentHour = new Date().getHours();
            const currentDay = daysOfWeek[new Date().getDay()];
            const isCurrentDay = day === currentDay;
            
            // Clear container
            container.innerHTML = '';
            
            // Fill schedule
            scheduleData.rows.forEach(row => {
                const timeStr = row[0];
                const showName = row[dayIndex];
                const rowHour = parseTimeToHour(timeStr);
                
                const showElement = document.createElement('div');
                showElement.className = 'schedule-show';
                
                // Highlight current show
                if (isCurrentDay && rowHour === currentHour) {
                    showElement.classList.add('current-show');
                }
                
                showElement.innerHTML = `
                    <div class="schedule-time">${timeStr}</div>
                    <div class="schedule-show-title">${showName}</div>
                `;
                
                container.appendChild(showElement);
            });
        }
        
        // Open Spotify with search for current track
        function openSpotify() {
            if (currentTrack) {
                const trackParts = parseTrackTitle(currentTrack.title || 'Unknown track');
                window.open(getSpotifySearchUrl(trackParts), '_blank');
            }
        }
        
        // Get URL for Spotify search
        function getSpotifySearchUrl(trackParts) {
            if (!trackParts) return 'https://open.spotify.com';
            
            const searchQuery = encodeURIComponent(`${trackParts.artist} ${trackParts.title}`.trim());
            return `https://open.spotify.com/search/${searchQuery}`;
        }
        
        // Close all popups
        function closePopups() {
            historyPopup.style.display = 'none';
            trackInfoPopup.style.display = 'none';
            schedulePopup.style.display = 'none';
            popupOverlay.style.display = 'none';
        }
        
        // Format time
        function formatTime(date) {
            return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
        }
        
        // Format date and time
        function formatDateTime(date) {
            return date.toLocaleString('en-US', { 
                day: '2-digit', 
                month: '2-digit', 
                year: 'numeric',
                hour: '2-digit', 
                minute: '2-digit'
            });
        }
        
        // Show error
        function showError(message) {
            console.error(message);
            // Could add visual error display on page
        }
        
        // Start player when page loads
        window.addEventListener('DOMContentLoaded', initPlayer);
        
        // Clear interval when page closes
        window.addEventListener('beforeunload', () => {
            clearInterval(refreshInterval);
        });
    </script>
<div class="popup-overlay" id="popup-overlay"></div>
<div class="history-popup" id="playlist-popup">
<div class="popup-header">
<div class="popup-title">Playlists</div>
<button class="close-popup" id="close-playlist">×</button>
</div>
<div class="popup-list">
<div><svg class="history-spotify-icon" fill="#1ED760" height="16" viewbox="0 0 168 168" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M84,0C37.7,0,0,37.7,0,84s37.7,84,84,84s84-37.7,84-84S130.3,0,84,0z M122.3,121.6c-1.5,2.5-4.7,3.3-7.2,1.8 c-19.8-12.1-44.8-14.8-74.1-8.1c-2.9,0.7-5.8-1.1-6.5-4c-0.7-2.9,1.1-5.8,4-6.5c32.7-7.4,60.2-4.2,82.4,9.5 C123,116,123.8,119.2,122.3,121.6z M132.1,97c-1.8,2.8-5.6,3.7-8.4,1.9c-22.7-14-57.3-18.1-84.1-9.9c-3.1,1-6.4-0.7-7.4-3.8 c-1-3.1,0.7-6.4,3.8-7.4c31.4-9.6,70-5,96.7,11.3C132.9,90.2,133.9,94.1,132.1,97z M133.5,72.3c-27-16.2-71.8-17.6-97.4-9.6 c-3.6,1.1-7.3-0.9-8.4-4.5c-1.1-3.6,0.9-7.3,4.5-8.4c29.7-9,79.4-7.3,110.9,11.2c3.2,1.9,4.3,6,2.4,9.2 C143.7,73.1,138.4,75.2,133.5,72.3z"></path>
</svg><a href="https://open.spotify.com/playlist/1nMV9nVahxYfe29Kbwm5Wl" target="_blank">Space Age Pop</a><br/><span>bachelor pad music</span></div>
<div><svg class="history-spotify-icon" fill="#1ED760" height="16" viewbox="0 0 168 168" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M84,0C37.7,0,0,37.7,0,84s37.7,84,84,84s84-37.7,84-84S130.3,0,84,0z M122.3,121.6c-1.5,2.5-4.7,3.3-7.2,1.8 c-19.8-12.1-44.8-14.8-74.1-8.1c-2.9,0.7-5.8-1.1-6.5-4c-0.7-2.9,1.1-5.8,4-6.5c32.7-7.4,60.2-4.2,82.4,9.5 C123,116,123.8,119.2,122.3,121.6z M132.1,97c-1.8,2.8-5.6,3.7-8.4,1.9c-22.7-14-57.3-18.1-84.1-9.9c-3.1,1-6.4-0.7-7.4-3.8 c-1-3.1,0.7-6.4,3.8-7.4c31.4-9.6,70-5,96.7,11.3C132.9,90.2,133.9,94.1,132.1,97z M133.5,72.3c-27-16.2-71.8-17.6-97.4-9.6 c-3.6,1.1-7.3-0.9-8.4-4.5c-1.1-3.6,0.9-7.3,4.5-8.4c29.7-9,79.4-7.3,110.9,11.2c3.2,1.9,4.3,6,2.4,9.2 C143.7,73.1,138.4,75.2,133.5,72.3z"></path>
</svg><a href="https://open.spotify.com/playlist/3tmgpaTDD83yyGqqNjvHkw" target="_blank">The Surfing Twenties</a><br/><span>surf 2020–2030</span></div>
<div><svg class="history-spotify-icon" fill="#1ED760" height="16" viewbox="0 0 168 168" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M84,0C37.7,0,0,37.7,0,84s37.7,84,84,84s84-37.7,84-84S130.3,0,84,0z M122.3,121.6c-1.5,2.5-4.7,3.3-7.2,1.8 c-19.8-12.1-44.8-14.8-74.1-8.1c-2.9,0.7-5.8-1.1-6.5-4c-0.7-2.9,1.1-5.8,4-6.5c32.7-7.4,60.2-4.2,82.4,9.5 C123,116,123.8,119.2,122.3,121.6z M132.1,97c-1.8,2.8-5.6,3.7-8.4,1.9c-22.7-14-57.3-18.1-84.1-9.9c-3.1,1-6.4-0.7-7.4-3.8 c-1-3.1,0.7-6.4,3.8-7.4c31.4-9.6,70-5,96.7,11.3C132.9,90.2,133.9,94.1,132.1,97z M133.5,72.3c-27-16.2-71.8-17.6-97.4-9.6 c-3.6,1.1-7.3-0.9-8.4-4.5c-1.1-3.6,0.9-7.3,4.5-8.4c29.7-9,79.4-7.3,110.9,11.2c3.2,1.9,4.3,6,2.4,9.2 C143.7,73.1,138.4,75.2,133.5,72.3z"></path>
</svg><a href="https://open.spotify.com/playlist/3GPkmpJ0c4XtQGaALsxsv0" target="_blank">Recover</a><br/><span>best covered</span></div>
<div><svg class="history-spotify-icon" fill="#1ED760" height="16" viewbox="0 0 168 168" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M84,0C37.7,0,0,37.7,0,84s37.7,84,84,84s84-37.7,84-84S130.3,0,84,0z M122.3,121.6c-1.5,2.5-4.7,3.3-7.2,1.8 c-19.8-12.1-44.8-14.8-74.1-8.1c-2.9,0.7-5.8-1.1-6.5-4c-0.7-2.9,1.1-5.8,4-6.5c32.7-7.4,60.2-4.2,82.4,9.5 C123,116,123.8,119.2,122.3,121.6z M132.1,97c-1.8,2.8-5.6,3.7-8.4,1.9c-22.7-14-57.3-18.1-84.1-9.9c-3.1,1-6.4-0.7-7.4-3.8 c-1-3.1,0.7-6.4,3.8-7.4c31.4-9.6,70-5,96.7,11.3C132.9,90.2,133.9,94.1,132.1,97z M133.5,72.3c-27-16.2-71.8-17.6-97.4-9.6 c-3.6,1.1-7.3-0.9-8.4-4.5c-1.1-3.6,0.9-7.3,4.5-8.4c29.7-9,79.4-7.3,110.9,11.2c3.2,1.9,4.3,6,2.4,9.2 C143.7,73.1,138.4,75.2,133.5,72.3z"></path>
</svg><a href="https://open.spotify.com/playlist/3fmEZxNhwO7SrFELfKWuuO" target="_blank">Armchair Cowboy</a><br/><span>americana</span></div>
<div><svg class="history-spotify-icon" fill="#1ED760" height="16" viewbox="0 0 168 168" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M84,0C37.7,0,0,37.7,0,84s37.7,84,84,84s84-37.7,84-84S130.3,0,84,0z M122.3,121.6c-1.5,2.5-4.7,3.3-7.2,1.8 c-19.8-12.1-44.8-14.8-74.1-8.1c-2.9,0.7-5.8-1.1-6.5-4c-0.7-2.9,1.1-5.8,4-6.5c32.7-7.4,60.2-4.2,82.4,9.5 C123,116,123.8,119.2,122.3,121.6z M132.1,97c-1.8,2.8-5.6,3.7-8.4,1.9c-22.7-14-57.3-18.1-84.1-9.9c-3.1,1-6.4-0.7-7.4-3.8 c-1-3.1,0.7-6.4,3.8-7.4c31.4-9.6,70-5,96.7,11.3C132.9,90.2,133.9,94.1,132.1,97z M133.5,72.3c-27-16.2-71.8-17.6-97.4-9.6 c-3.6,1.1-7.3-0.9-8.4-4.5c-1.1-3.6,0.9-7.3,4.5-8.4c29.7-9,79.4-7.3,110.9,11.2c3.2,1.9,4.3,6,2.4,9.2 C143.7,73.1,138.4,75.2,133.5,72.3z"></path>
</svg><a href="https://open.spotify.com/playlist/0f9Hm7OM4H4WwWHRX9xHEE" target="_blank">Juke Box</a><br/><span>coma.fm hits</span></div>
<div><svg class="history-spotify-icon" fill="#1ED760" height="16" viewbox="0 0 168 168" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M84,0C37.7,0,0,37.7,0,84s37.7,84,84,84s84-37.7,84-84S130.3,0,84,0z M122.3,121.6c-1.5,2.5-4.7,3.3-7.2,1.8 c-19.8-12.1-44.8-14.8-74.1-8.1c-2.9,0.7-5.8-1.1-6.5-4c-0.7-2.9,1.1-5.8,4-6.5c32.7-7.4,60.2-4.2,82.4,9.5 C123,116,123.8,119.2,122.3,121.6z M132.1,97c-1.8,2.8-5.6,3.7-8.4,1.9c-22.7-14-57.3-18.1-84.1-9.9c-3.1,1-6.4-0.7-7.4-3.8 c-1-3.1,0.7-6.4,3.8-7.4c31.4-9.6,70-5,96.7,11.3C132.9,90.2,133.9,94.1,132.1,97z M133.5,72.3c-27-16.2-71.8-17.6-97.4-9.6 c-3.6,1.1-7.3-0.9-8.4-4.5c-1.1-3.6,0.9-7.3,4.5-8.4c29.7-9,79.4-7.3,110.9,11.2c3.2,1.9,4.3,6,2.4,9.2 C143.7,73.1,138.4,75.2,133.5,72.3z"></path>
</svg><a href="https://open.spotify.com/playlist/20kETYvZZaaZXU2mJs3QCM" target="_blank">No Quota</a><br/><span>Ukrainian music</span></div>
<div><svg class="history-spotify-icon" fill="#1ED760" height="16" viewbox="0 0 168 168" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M84,0C37.7,0,0,37.7,0,84s37.7,84,84,84s84-37.7,84-84S130.3,0,84,0z M122.3,121.6c-1.5,2.5-4.7,3.3-7.2,1.8 c-19.8-12.1-44.8-14.8-74.1-8.1c-2.9,0.7-5.8-1.1-6.5-4c-0.7-2.9,1.1-5.8,4-6.5c32.7-7.4,60.2-4.2,82.4,9.5 C123,116,123.8,119.2,122.3,121.6z M132.1,97c-1.8,2.8-5.6,3.7-8.4,1.9c-22.7-14-57.3-18.1-84.1-9.9c-3.1,1-6.4-0.7-7.4-3.8 c-1-3.1,0.7-6.4,3.8-7.4c31.4-9.6,70-5,96.7,11.3C132.9,90.2,133.9,94.1,132.1,97z M133.5,72.3c-27-16.2-71.8-17.6-97.4-9.6 c-3.6,1.1-7.3-0.9-8.4-4.5c-1.1-3.6,0.9-7.3,4.5-8.4c29.7-9,79.4-7.3,110.9,11.2c3.2,1.9,4.3,6,2.4,9.2 C143.7,73.1,138.4,75.2,133.5,72.3z"></path>
</svg><a href="https://open.spotify.com/playlist/1Qm3CoqMnfO4O6aoEWcpFh" target="_blank">Great Instros</a><br/><span>instrumental</span></div>
<div><svg class="history-spotify-icon" fill="#1ED760" height="16" viewbox="0 0 168 168" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M84,0C37.7,0,0,37.7,0,84s37.7,84,84,84s84-37.7,84-84S130.3,0,84,0z M122.3,121.6c-1.5,2.5-4.7,3.3-7.2,1.8 c-19.8-12.1-44.8-14.8-74.1-8.1c-2.9,0.7-5.8-1.1-6.5-4c-0.7-2.9,1.1-5.8,4-6.5c32.7-7.4,60.2-4.2,82.4,9.5 C123,116,123.8,119.2,122.3,121.6z M132.1,97c-1.8,2.8-5.6,3.7-8.4,1.9c-22.7-14-57.3-18.1-84.1-9.9c-3.1,1-6.4-0.7-7.4-3.8 c-1-3.1,0.7-6.4,3.8-7.4c31.4-9.6,70-5,96.7,11.3C132.9,90.2,133.9,94.1,132.1,97z M133.5,72.3c-27-16.2-71.8-17.6-97.4-9.6 c-3.6,1.1-7.3-0.9-8.4-4.5c-1.1-3.6,0.9-7.3,4.5-8.4c29.7-9,79.4-7.3,110.9,11.2c3.2,1.9,4.3,6,2.4,9.2 C143.7,73.1,138.4,75.2,133.5,72.3z"></path>
</svg><a href="https://open.spotify.com/playlist/3WeSZBNF4DzveNTbDb0Eol" target="_blank">Psycho Barbara</a><br/><span>psychobilly</span></div>
</div>
</div>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const playlistBtn = document.getElementById("playlist-button");
    const playlistPopup = document.getElementById("playlist-popup");
    const overlay = document.getElementById("popup-overlay");
    const closeBtn = document.getElementById("close-playlist");

    playlistBtn?.addEventListener("click", () => {
        playlistPopup?.classList.add("visible");
        overlay?.classList.add("visible");
    });

    closeBtn?.addEventListener("click", () => {
        playlistPopup?.classList.remove("visible");
        overlay?.classList.remove("visible");
    });

    overlay?.addEventListener("click", () => {
        playlistPopup?.classList.remove("visible");
        overlay?.classList.remove("visible");
    });
});
</script>
<div class="popup-overlay" id="support-popup-overlay"></div>
<div class="history-popup" id="support-popup">
<div class="popup-header">
<div class="popup-title">Support &amp; Listen</div>
<button class="close-popup" id="close-support">×</button>
</div>
<div class="popup-list">
<div>
<strong>📡 Listen on other platforms:</strong><br/>
<a href="https://stream.radio.co/s4360dbc20/listen" target="_blank">Stream 128 Kbps MP3</a><br/>
<a href="https://stream.radio.co/s4360dbc20/low" target="_blank">Stream 64 Kbps AAC</a><br/>
<a href="http://stream.radio.co/s4360dbc20/listen.m3u" target="_blank">Playlist.m3u</a><br/>
<a href="https://onlineradiobox.com/ua/coma/" target="_blank">OnlineRadioBox</a><br/>
<a href="http://radio.garden/listen/coma-fm/ayIPCs2h" target="_blank">Radio Garden</a><br/>
<a href="https://tunein.com/radio/comafm-s213997/" target="_blank">Tune-In</a><br/>
<a href="https://www.getmeradio.com/stations/coma-5198/?station_id=5198" target="_blank">Get Me Radio!</a>
</div>
<div style="margin-top:15px;">
<strong>✉️ Contact:</strong><br/>
        Email: deisign@gmail.com<br/>
        Telegram/WhatsApp: +380503822160
    </div>
<div style="margin-top:15px;">
<strong>💸 Donate via PayPal:</strong><br/>
<form action="https://www.paypal.com/donate" method="post" target="_blank">
<input name="hosted_button_id" type="hidden" value="L97XZDZ3F3JTE">
<button class="donate-button">Donate via PayPal</button>
</input></form>
</div>
</div>
</div>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const btn = document.getElementById("support-button");
  const popup = document.getElementById("support-popup");
  const overlay = document.getElementById("support-popup-overlay");
  const close = document.getElementById("close-support");

  btn?.addEventListener("click", () => {
    popup?.classList.add("visible");
    overlay?.classList.add("visible");
  });
  close?.addEventListener("click", () => {
    popup?.classList.remove("visible");
    overlay?.classList.remove("visible");
  });
  overlay?.addEventListener("click", () => {
    popup?.classList.remove("visible");
    overlay?.classList.remove("visible");
  });
});
</script>
</body>
</html>

<script>
  const ambience = new Audio();
  ambience.loop = true;
  ambience.volume = 0.5;
  const ambienceSelect = document.getElementById("ambienceSelect");
  const ambienceVolume = document.getElementById("ambienceVolume");

  ambienceSelect.addEventListener("change", () => {
    ambience.pause();
    if (ambienceSelect.value) {
      ambience.src = `./ambience/${ambienceSelect.value}.mp3`;
      ambience.play().catch(() => {});
    }
  });
  ambienceVolume.addEventListener("input", () => {
    ambience.volume = ambienceVolume.value;
  });
</script>
</div></body>
</html>
